<!DOCTYPE html>
<html>
<head>
	<title>HANGMAN</title>
</head>
<body>
	<h2>Hint: U.S. States</h2>

	<script type="text/javascript">

		//beginning of variables
// ------------------------------------------------------------------------------//
		var wins = 0;
		var guessesAllow = 6;
		var passwords = ["texas","florida","washington","georgia","alabama","alaska","idaho","virginia","michigan"];
		var guesses = [];
		var randNum = Math.floor(Math.random() * passwords.length);
		var selectedPasswordArray = passwords[randNum].split("");	
		var selectedPassword = passwords[randNum];
		var hiddenPassword = [];

		//end of variables
// ------------------------------------------------------------------------------//

  //FUNCTIONS:

	//function that produces loop to generate hidden password (With underscores)

	function passwordGen(mkPass){
		     //loop by the number of characters in selected password:

    for (var i = 0; i < selectedPassword.length; i++) {

  // push "_" into hiddenPassword array to generate an array of underscores at a count equal to password.length:

    		hiddenPassword.push("_");
    	};
      
        //log censored password:

        console.log(hiddenPassword);
    };

  //function to subtract from guesses:

  function subGuesses(subtract){
        guessesAllow = guessesAllow-1;
    };

  //function to add to wins:

  function addWins(subtract){
      wins = wins++;
    };

//function that checks to see if a score can be tallyed
  function scoreCheck(x,y){

    for (var i = 0; i < selectedPassword.length; i++){

      if (x[i] == y[i]) {
        wins = wins++;
      };
    };
  };

// ------------------------------------------------------------------------------//

		//at window load:

	window.onload = function(load){

		//generate password:

      	passwordGen();

    };


  //reveal password in console:

        console.log("current password is: " + selectedPassword);

  //log wins tally

        console.log("Your wins: " + wins);

  // log allowed incorrect guesses:

       console.log("Incorrect guesses left: " + guessesAllow);

// ------------------------------------------------------------------------------//
		//when key is pressed:

  document.onkeypress = function(startGame){

      	//capture keypress into variable:

      	var keyChoice = event.key;

        //declaring variable that declares false on a missed guess

        var missed = true;

      	//collect key presses into guesses array:

      	guesses.push(keyChoice);

        
        //loop to compare keypress character to password character and if true, reveal letter:

      	for (var i = 0; i < selectedPassword.length; i++) {

      		//if key choice equals correct letter, convert i index of hiddenPassword to i index of selectedPassword, revealing the correct letter:

          	if (keyChoice == selectedPassword.charAt(i)){
          	    hiddenPassword[i] = selectedPassword[i];

                // define missed as false because an incorrect key WAS NOT pressed:

                missed = false;

              };

          };

        // the previous if statement is skipped with each correct key so the if below is called, which triggers a subtraction from the guessAllow count, in other words if a wrong key is pressed the guess count decreases.

        if (missed){
          subGuesses();
        };

        //alert user when guess count runs down to zero, essentially ending the game.

        if (guessesAllow === 0){
            confirm("GAME OVER: You ran out of guesses!");
        };

        console.log("Your guesses: " + guesses);
        console.log(hiddenPassword);
        console.log("Your wins: " + wins);
        //log guesses count:

        console.log("You now have " + guessesAllow + " wrong guesses left");
      };
	</script>

</body>
</html>